<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
    <%@ taglib uri="/struts-tags" prefix="s"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
</head>
<body>
<legend>
		<s:text name="addClient" />${tests}
		</legend>
<form class="form-horizontal" name="input"
		action="${pageContext.request.contextPath}/admin/clients/addclient"
		method="POST">
		<div class="control-group">
			<label class="control-label" for="inputLogin">login Univ (Laissez vide si extérieur)</label>
			<div class="controls">
				<input type="text" id="inputLogin" name="client.login"
					value="${client.login}" placeholder="login">
					<button
							class="btn"
							type="button" onclick="test()">GetData</button>
							
			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="inputName">Nom</label>
			<div class="controls">
				<input type="text" id="inputName" name="client.name"
					placeholder="Nom" value="${client.name}">
			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="inputFirstName">Prénom</label>
			<div class="controls">
				<input type="text" id="inputFirstName" name="client.firstname"
					placeholder="Prénom" value="${client.firstname}">
			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="inputMail">Mail</label>
			<div class="controls">
				<input type="text" id="inputMail" name="client.mail"
					placeholder="courriel" value="${client.mail}">
			</div>
		</div>
		<div class="control-group">
			<label class="control-label" for="inputContributor">Cotisant</label>
			<div class="controls">
				<input type="checkbox" name="client.contributor" value="true"
					id="inputContributor" /> <input type="hidden"
					id="__checkbox_inputContributor"
					name="__checkbox_client.contributor" value="true" />
			</div>
		</div>
		<div class="control-group">
			<div class="controls">
				<button type="submit" class="btn btn-success btn-large">Ajouter</button>
			</div>
		</div>
	</form>
<script type="text/javascript">
function test() {
	$.post( '${pageContext.request.contextPath}/admin/clients/ajaxldap?login='+$('#inputLogin').val(),
			function( data ) {
		console.log(data);
		$('#inputLogin').val(data.client.login);
		$('#inputName').val(data.client.name);
		$('#inputFirstName').val(data.client.firstname);
		$('#inputMail').val(data.client.mail);
	}
			);
}
</script>
</body>
</html>